<div class="section"></div>
<main>
  <div class="center-align">
    <div class="container">
      <div class="z-depth-1 grey lighten-5 row" style="display: inline-block; padding: 32px 48px 0px 48px; border: 1px solid #7aae3f">
         
        <img  class="responsive-img" src="assets/logo_color.png" style="width: 300px">
        <div class="section"></div>
        <form [formGroup]="formLogin" class="col s12"  (ngSubmit)="login()" autocomplete="off">
          <div class='row'>
            <div class='col s12'>
            </div>
          </div>

          <div class='row'>
            <div class='input-field col s12'>
              <input class='validate' type='text' name='usuario_acceso' id='usuario_acceso' formControlName='usuario_acceso' (ngModelChange)="resetMensaje()" [(ngModel)]='usuario_acceso' />
              <label for='usuario_acceso'>Ingresa tu usuario</label>
            </div>
            <div *ngIf="formLogin.controls.usuario_acceso.errors?.required && (formLogin.controls.usuario_acceso?.touched || submitted)" class="error">
               El usuario es requerido
            </div>
          </div>

          <div class='row'>
              <div class='input-field col s12'>
                <select  materialize="material_select" [materializeSelectOptions]="accesos" formControlName="id_sistemas" [(ngModel)]="id_sistemas"  (ngModelChange)="resetMensaje()">
                  <option value="" selected>Seleccione una opci√≥n</option>
                  <option *ngFor="let acceso of accesos" [value]="acceso.id">{{acceso.descripcion}}</option>
                </select>
                <div *ngIf="formLogin.controls.id_sistemas.errors?.required && (formLogin.controls.id_sistemas?.touched || submitted)" class="error">
                  Seleccione una opcion
              </div>
              </div>
          </div>
          <div class='row'>
            <div class='input-field col s12'>
              <input class='validate' type='password' name='clave_acceso' id='clave_acceso'  formControlName='clave_acceso' [(ngModel)]='clave_acceso'  (ngModelChange)="resetMensaje()" />
              <label for='clave_accesso'>Ingresa tu clave </label>
              <div *ngIf="formLogin.controls.clave_acceso.errors?.required && (formLogin.controls.clave_acceso?.touched || submitted)" class="error">
                  La clave es requerida
              </div>
              <div class="error">
                    {{ mensaje_error }}
              </div>
            </div>
          </div>
          <br />
          <div class='row'>
            <button type='submit' name='btn_login' class='col s12 btn btn-large light-green darken-1 waves-effect waves-light' [disabled]='disabled'>{{ !disabled ? 'Ingresar' : 'Procesando'}}</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>